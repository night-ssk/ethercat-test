typedef struct {
    int target_pos;
    int mode;
} MotorCommand;
void* readCommands(void* arg);